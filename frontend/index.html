<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <title>Gestão de Entidades</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1>Gestão de Entidades</h1>

        <div class="tabs">
            <button class="tab-btn active" onclick="openTab('table')">Fundações</button>
            <button class="tab-btn" onclick="openTab('create')">Criar</button>
            <button class="tab-btn" onclick="openTab('update')">Atualizar</button>
            <button class="tab-btn" onclick="openTab('fetchByCnpj')">Buscar</button>
        </div>

        <div class="container">

            <div id="table" class="tab-content active">
                <table id="entityTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome</th>
                            <th>CNPJ</th>
                            <th>Telefone</th>
                            <th>Email</th>
                            <th>Instituição de Apoio</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div id="create" class="tab-content">
                <h2>Criar nova fundação</h2>
                <form id="createForm">
                    <input type="text" name="name" placeholder="Nome" required>
                    <input type="text" name="cnpj" placeholder="CNPJ" oninput="cnpjMask(event)" maxlength="18" required>
                    <input type="text" name="phone" placeholder="Telefone"  oninput="phoneMask(event)" maxlength="15" required>
                    <input type="email" name="email" placeholder="Email" required>
                    <input type="text" name="supportedInstitution" placeholder="Instituição de Apoio" required>
                    <button type="submit" class="btn">Criar</button>
                </form>
                <div id="createMessageHandler" class="messageHandler"></div>
            </div>

            <div id="update" class="tab-content">
                <h2>Atualizar fundação</h2>
                <form id="updateForm">
                    <select name="cnpj" id="cnpjSelect">
                        <option value="">Selecione um CNPJ</option>
                    </select>
                    <input type="text" name="name" placeholder="Nome">
                    <input type="text" name="phone" placeholder="Telefone" oninput="phoneMask(event)" maxlength="15">
                    <input type="email" name="email" placeholder="Email">
                    <input type="text" name="supportedInstitution" placeholder="Instituição de Apoio">
                    <button type="submit" class="btn">Atualizar</button>
                </form>
                <div id="updateMessageHandler" class="messageHandler"></div>
            </div>

            <div id="fetchByCnpj" class="tab-content">
                <div class="centralizer">
                    <div class="searchContainer">
                        <h2>Buscar entidade</h2>
                        <div>
                            <input type="text" id="searchInput" placeholder="Buscar por CNPJ..." />
                            <button class="btn" onclick="fetchByCnpj()">Buscar</button>
                        </div>
                        <div id="searchMessageHandler" class="messageHandler"></div>
                    </div>
                </div>
            </div>

        </div>

        <script src="script.js"></script>
    </body>
</html>